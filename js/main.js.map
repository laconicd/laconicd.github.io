{
  "version": 3,
  "sources": ["../scripts/main.ts"],
  "sourcesContent": ["export {};\n\ndeclare global {\n  interface Window {\n    __SYNTAX_THEME_URLS__?: Record<string, string>;\n  }\n}\n\nclass ThemeManager {\n  private readonly themeAttr = \"data-theme\";\n  private readonly darkTheme = \"dim\";\n  private readonly lightTheme = \"lofi\";\n  private readonly storageKey = \"theme\";\n\n  constructor() {\n    this.init();\n  }\n\n  private init(): void {\n    // 초기 로드 시 실행\n    document.addEventListener(\"DOMContentLoaded\", () => this.syncControllers());\n    window.addEventListener(\"page:updated\" as any, () => this.syncControllers());\n\n    // 전역 이벤트 위임 (Change)\n    document.addEventListener(\"change\", (e) => this.handleChange(e));\n  }\n\n  /**\n   * 모든 테마 컨트롤러(Checkbox)의 상태를 현재 테마에 맞게 동기화\n   */\n  private syncControllers(): void {\n    const currentTheme = document.documentElement.getAttribute(this.themeAttr);\n    const isDark = currentTheme === this.darkTheme;\n\n    this.getControllers().forEach((el) => {\n      el.checked = isDark;\n    });\n  }\n\n  /**\n   * 테마 변경 이벤트 핸들러\n   */\n  private handleChange(e: Event): void {\n    const target = e.target as HTMLInputElement;\n\n    if (target && target.classList.contains(\"theme-controller\")) {\n      const isDark = target.checked;\n      const newTheme = isDark ? this.darkTheme : this.lightTheme;\n\n      this.applyTheme(newTheme);\n      this.syncControllers(); // 다른 컨트롤러들도 함께 업데이트\n    }\n  }\n\n  /**\n   * 테마를 실제로 적용하고 저장하는 로직\n   */\n  private applyTheme(theme: string): void {\n    document.documentElement.setAttribute(this.themeAttr, theme);\n    localStorage.setItem(this.storageKey, theme);\n\n    // 구문 강조(Syntax) 테마 업데이트\n    const link = document.getElementById(\"syntax-theme\") as HTMLLinkElement | null;\n    if (link && window.__SYNTAX_THEME_URLS__) {\n      link.href = window.__SYNTAX_THEME_URLS__[theme];\n    }\n  }\n\n  private getControllers(): NodeListOf<HTMLInputElement> {\n    return document.querySelectorAll<HTMLInputElement>(\".theme-controller\");\n  }\n}\n\n// 매니저 실행\nnew ThemeManager();\n"],
  "mappings": "AAQA,IAAMA,EAAN,KAAM,CACa,UAAY,aACZ,UAAY,MACZ,WAAa,OACb,WAAa,QAE9B,aAAc,CACZ,KAAK,KAAI,CACX,CAEQ,MAAa,CAEnB,SAAS,iBAAiB,mBAAoB,IAAM,KAAK,gBAAe,CAAA,EACxE,OAAO,iBAAiB,eAAuB,IAAM,KAAK,gBAAe,CAAA,EAGzE,SAAS,iBAAiB,SAAW,GAAM,KAAK,aAAa,CAAA,CAAA,CAC/D,CAKQ,iBAAwB,CAE9B,IAAMC,EADe,SAAS,gBAAgB,aAAa,KAAK,SAAS,IACzC,KAAK,UAErC,KAAK,eAAc,EAAG,QAASC,GAAA,CAC7BA,EAAG,QAAUD,CACf,CAAA,CACF,CAKQ,aAAa,EAAgB,CACnC,IAAME,EAAS,EAAE,OAEjB,GAAIA,GAAUA,EAAO,UAAU,SAAS,kBAAA,EAAqB,CAE3D,IAAMC,EADSD,EAAO,QACI,KAAK,UAAY,KAAK,WAEhD,KAAK,WAAWC,CAAA,EAChB,KAAK,gBAAe,CACtB,CACF,CAKQ,WAAWC,EAAqB,CACtC,SAAS,gBAAgB,aAAa,KAAK,UAAWA,CAAA,EACtD,aAAa,QAAQ,KAAK,WAAYA,CAAA,EAGtC,IAAMC,EAAO,SAAS,eAAe,cAAA,EACjCA,GAAQ,OAAO,wBACjBA,EAAK,KAAO,OAAO,sBAAsBD,CAAA,EAE7C,CAEQ,gBAA+C,CACrD,OAAO,SAAS,iBAAmC,mBAAA,CACrD,CACF,EAGA,IAAIL",
  "names": ["ThemeManager", "isDark", "el", "target", "newTheme", "theme", "link"]
}
