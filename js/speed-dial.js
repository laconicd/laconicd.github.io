var o=class{dial;searchModal;posts;constructor(){this.dial=document.querySelector(".app-speed-dial"),this.searchModal=document.getElementById("search_modal"),this.posts=window.__POST_LIST__||[],this.dial&&this.init()}init(){this.syncThemeState(),this.initClickEvents(),document.addEventListener("click",t=>this.handleOutsideClick(t)),window.addEventListener("page:updated",()=>{this.syncThemeState(),this.closeDial()})}initClickEvents(){let t=document.getElementById("speed-dial-trigger"),s=document.getElementById("speed-dial-top"),e=document.getElementById("speed-dial-search"),i=document.getElementById("speed-dial-random");t?.addEventListener("click",n=>{n.stopPropagation(),this.dial?.classList.toggle("open")}),s?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"}),this.closeDial()}),e?.addEventListener("click",()=>{this.searchModal?.showPopover?.(),this.closeDial()}),i&&this.posts.length>0&&i.addEventListener("click",()=>this.handleRandomPost())}handleRandomPost(){let t=window.location.pathname,s=this.posts.filter(n=>!n.includes(t)),e=s.length>0?s:this.posts,i=e[Math.floor(Math.random()*e.length)];window.location.href=i}syncThemeState(){if(!this.dial)return;let t=document.documentElement.getAttribute("data-theme")==="dim";this.dial.querySelectorAll(".theme-controller").forEach(e=>{e.checked=t})}handleOutsideClick(t){this.dial&&!this.dial.contains(t.target)&&this.closeDial()}closeDial(){this.dial?.classList.remove("open")}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>new o):new o;
//# sourceMappingURL=speed-dial.js.map
