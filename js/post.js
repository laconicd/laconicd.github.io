var s=class{shareBtn;shareModal;label=null;originalText="";constructor(){this.shareBtn=document.getElementById("post-share-btn"),this.shareModal=document.getElementById("share_modal"),this.shareBtn&&(this.label=this.shareBtn.querySelector(".label"),this.originalText=this.label?.innerText||"",this.initEvents())}initEvents(){this.shareBtn&&(this.shareBtn.onclick=()=>this.handleShare())}async handleShare(){let e=window.location.href;navigator.clipboard&&window.isSecureContext?(await navigator.clipboard.writeText(e),this.onSuccess()):this.fallbackCopy(e)}fallbackCopy(e){let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy"),this.onSuccess()}catch(i){console.error("Copy failed",i)}document.body.removeChild(t)}onSuccess(){!this.shareBtn||!this.label||(this.shareBtn.classList.add("copied"),this.label.innerText="Copied!",this.shareModal&&"showPopover"in this.shareModal&&this.shareModal.showPopover(),setTimeout(()=>{this.shareBtn?.classList.remove("copied"),this.label&&(this.label.innerText=this.originalText)},2e3))}};new s;
//# sourceMappingURL=post.js.map
