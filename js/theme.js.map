{
  "version": 3,
  "sources": ["../scripts/theme.ts"],
  "sourcesContent": ["export {};\n\ndeclare global {\n  interface Window {\n    __SYNTAX_THEME_URLS__?: Record<string, string>;\n  }\n}\n\nclass ThemeInitializer {\n  private readonly themeAttr = \"data-theme\";\n  private readonly storageKey = \"theme\";\n  private readonly darkTheme = \"dim\";\n  private readonly lightTheme = \"lofi\";\n\n  constructor() {\n    this.init();\n  }\n\n  private init(): void {\n    const theme = this.getSavedTheme();\n\n    // 1. HTML 태그에 테마 속성 즉시 적용 (FOUC 방지)\n    document.documentElement.setAttribute(this.themeAttr, theme);\n\n    // 2. Syntax 하이라이트 스타일시트 적용\n    this.injectSyntaxTheme(theme);\n  }\n\n  private getSavedTheme(): string {\n    const saved = localStorage.getItem(this.storageKey);\n    if (saved) return saved;\n\n    // 저장된 테마가 없으면 시스템 설정 확인\n    return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? this.darkTheme : this.lightTheme;\n  }\n\n  private injectSyntaxTheme(theme: string): void {\n    const urls = window.__SYNTAX_THEME_URLS__ || {};\n    const href = theme === this.darkTheme ? urls.dim : urls.lofi;\n\n    if (!href || href === window.location.href) return;\n\n    const link = document.createElement(\"link\");\n    link.id = \"syntax-theme\";\n    link.rel = \"stylesheet\";\n    link.href = href;\n\n    document.head.appendChild(link);\n  }\n}\n\n// ⚠️ 주의: DOMContentLoaded를 기다리지 않고 즉시 실행합니다.\nnew ThemeInitializer();\n"],
  "mappings": "AAQA,IAAMA,EAAN,KAAM,CACa,UAAY,aACZ,WAAa,QACb,UAAY,MACZ,WAAa,OAE9B,aAAc,CACZ,KAAK,KAAI,CACX,CAEQ,MAAa,CACnB,IAAMC,EAAQ,KAAK,cAAa,EAGhC,SAAS,gBAAgB,aAAa,KAAK,UAAWA,CAAA,EAGtD,KAAK,kBAAkBA,CAAA,CACzB,CAEQ,eAAwB,CAC9B,IAAMC,EAAQ,aAAa,QAAQ,KAAK,UAAU,EAClD,OAAIA,IAGG,OAAO,WAAW,8BAAA,EAAgC,QAAU,KAAK,UAAY,KAAK,WAC3F,CAEQ,kBAAkBD,EAAqB,CAC7C,IAAME,EAAO,OAAO,uBAAyB,CAAC,EACxCC,EAAOH,IAAU,KAAK,UAAYE,EAAK,IAAMA,EAAK,KAExD,GAAI,CAACC,GAAQA,IAAS,OAAO,SAAS,KAAM,OAE5C,IAAMC,EAAO,SAAS,cAAc,MAAA,EACpCA,EAAK,GAAK,eACVA,EAAK,IAAM,aACXA,EAAK,KAAOD,EAEZ,SAAS,KAAK,YAAYC,CAAA,CAC5B,CACF,EAGA,IAAIL",
  "names": ["ThemeInitializer", "theme", "saved", "urls", "href", "link"]
}
