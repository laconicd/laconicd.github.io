{
  "version": 3,
  "sources": ["../scripts/post.ts"],
  "sourcesContent": ["class PostShareHandler {\n  private shareBtn: HTMLElement | null;\n  private shareModal: HTMLElement | null;\n  private label: HTMLElement | null = null;\n  private originalText: string = \"\";\n\n  constructor() {\n    this.shareBtn = document.getElementById(\"post-share-btn\");\n    this.shareModal = document.getElementById(\"share_modal\");\n\n    if (this.shareBtn) {\n      this.label = this.shareBtn.querySelector(\".label\");\n      this.originalText = this.label?.innerText || \"\";\n      this.initEvents();\n    }\n  }\n\n  private initEvents(): void {\n    if (!this.shareBtn) return;\n    this.shareBtn.onclick = () => this.handleShare();\n  }\n\n  private async handleShare(): Promise<void> {\n    const url = window.location.href;\n\n    if (navigator.clipboard && window.isSecureContext) {\n      await navigator.clipboard.writeText(url);\n      this.onSuccess();\n    } else {\n      this.fallbackCopy(url);\n    }\n  }\n\n  private fallbackCopy(text: string): void {\n    const textArea = document.createElement(\"textarea\");\n    textArea.value = text;\n    document.body.appendChild(textArea);\n    textArea.select();\n    try {\n      document.execCommand(\"copy\");\n      this.onSuccess();\n    } catch (err) {\n      console.error(\"Copy failed\", err);\n    }\n    document.body.removeChild(textArea);\n  }\n\n  private onSuccess(): void {\n    if (!this.shareBtn || !this.label) return;\n\n    this.shareBtn.classList.add(\"copied\");\n    this.label.innerText = \"Copied!\";\n\n    // showPopover 타입 에러 방지를 위해 타입 가드 사용\n    if (this.shareModal && \"showPopover\" in this.shareModal) {\n      (this.shareModal as any).showPopover();\n    }\n\n    setTimeout(() => {\n      this.shareBtn?.classList.remove(\"copied\");\n      if (this.label) this.label.innerText = this.originalText;\n    }, 2000);\n  }\n}\n\n// 인스턴스 생성\nnew PostShareHandler();\n"],
  "mappings": "AAAA,IAAMA,EAAN,KAAM,CACI,SACA,WACA,MAA4B,KAC5B,aAAuB,GAE/B,aAAc,CACZ,KAAK,SAAW,SAAS,eAAe,gBAAA,EACxC,KAAK,WAAa,SAAS,eAAe,aAAA,EAEtC,KAAK,WACP,KAAK,MAAQ,KAAK,SAAS,cAAc,QAAA,EACzC,KAAK,aAAe,KAAK,OAAO,WAAa,GAC7C,KAAK,WAAU,EAEnB,CAEQ,YAAmB,CACpB,KAAK,WACV,KAAK,SAAS,QAAU,IAAM,KAAK,YAAW,EAChD,CAEA,MAAc,aAA6B,CACzC,IAAMC,EAAM,OAAO,SAAS,KAExB,UAAU,WAAa,OAAO,iBAChC,MAAM,UAAU,UAAU,UAAUA,CAAA,EACpC,KAAK,UAAS,GAEd,KAAK,aAAaA,CAAA,CAEtB,CAEQ,aAAaC,EAAoB,CACvC,IAAMC,EAAW,SAAS,cAAc,UAAA,EACxCA,EAAS,MAAQD,EACjB,SAAS,KAAK,YAAYC,CAAA,EAC1BA,EAAS,OAAM,EACf,GAAI,CACF,SAAS,YAAY,MAAA,EACrB,KAAK,UAAS,CAChB,OAASC,EAAK,CACZ,QAAQ,MAAM,cAAeA,CAAA,CAC/B,CACA,SAAS,KAAK,YAAYD,CAAA,CAC5B,CAEQ,WAAkB,CACpB,CAAC,KAAK,UAAY,CAAC,KAAK,QAE5B,KAAK,SAAS,UAAU,IAAI,QAAA,EAC5B,KAAK,MAAM,UAAY,UAGnB,KAAK,YAAc,gBAAiB,KAAK,YAC1C,KAAK,WAAmB,YAAW,EAGtC,WAAW,IAAA,CACT,KAAK,UAAU,UAAU,OAAO,QAAA,EAC5B,KAAK,QAAO,KAAK,MAAM,UAAY,KAAK,aAC9C,EAAG,GAAA,EACL,CACF,EAGA,IAAIH",
  "names": ["PostShareHandler", "url", "text", "textArea", "err"]
}
