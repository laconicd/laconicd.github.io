{# --- [ ‚öôÔ∏è MACRO: UI COMPONENTS TOOLBOX ] ----------------------------------- #}
{% import "macros/icons.html" as icons %}

{#
########################################################################
###  [ üß© SECTION: NAVIGATION (NAVBAR & SIDEBAR) ]
########################################################################
#}

{% macro app_navbar(config) %}
  <nav class="app-navbar" aria-label="Main">
    <a href="/" class="btn btn-ghost nav-brand">{{ config.title }}</a>

    <button popovertarget="nav-center" class=" btn btn-ghost btn-circle nav-menu-btn">{{ icons::menu() }}</button>

    <nav id="nav-center" popover class="nav-center">
      <div class="sidebar-header">
        <div class="sidebar-title">Navigation</div>
        <a href="/" class="nav-brand btn">{{ config.title }}</a>
      </div>
      <div class="sidebar-menu">
        <a href="{{ get_url(path='@/posts/_index.md') }}" class="btn btn-ghost">Posts</a>
        <a href="{{ get_url(path='categories') }}" class="btn btn-ghost">Categories</a>
        <a href="{{ get_url(path='tags') }}" class="btn btn-ghost">Tags</a>
      </div>
      <div class="divider-horizontal" style="gap:0;"></div>
      <div class="sidebar-footer">
        <button popovertarget="search_modal" class="search-trigger btn btn-ghost btn-circle" aria-label="Open Search">
          {{ icons::search(size=5) }}
        </button>
        <a
          href="{{ get_url(path='atom.xml') }}"
          target="_blank"
          aria-label="Atom Feed"
          class="btn btn-ghost btn-circle"
        >
          {{ icons::atom() }}
        </a>
        <a href="{{ get_url(path='rss.xml') }}" target="_blank" aria-label="RSS Feed" class="btn btn-ghost btn-circle">
          {{ icons::rss() }}
        </a>
        <label class="theme-toggle btn btn-ghost btn-circle">
          <input type="checkbox" class="theme-controller" value="dim" />
          <span class="sun-icon">{{ icons::sun(size=5) }}</span>
          <span class="moon-icon">{{ icons::moon(size=5) }}</span>
        </label>
      </div>
    </nav>
  </nav>
{% endmacro %}

{#
########################################################################
###  [ üèóÔ∏è SECTION: SITE FOOTER ]
########################################################################
#}

{% macro app_footer(config) %}
  <div class="footer-inner">
    <div class="footer-main">
      <div class="footer-brand">
        <p class="brand-desc">{{ config.description }}</p>
      </div>

      <nav class="footer-nav-group" aria-label="Explore">
        <h4>Explore</h4>
        <ul>
          <li><a href="{{ get_url(path='@/posts/_index.md') }}">Articles</a></li>
          <li><a href="{{ get_url(path='categories') }}">Categories</a></li>
          <li><a href="{{ get_url(path='tags') }}">Tags</a></li>
        </ul>
      </nav>

      <nav class="footer-nav-group" aria-label="Information">
        <h4>Information</h4>
        <ul>
          <li><a href="/about/">About me</a></li>
          <li><a href="/atom.xml">Atom Feed</a></li>
          <li><a href="/rss.xml">RSS Feed</a></li>
        </ul>
      </nav>
    </div>

    <div class="footer-bottom">
      <div class="copyright">¬© {{ now() | date(format="%Y") }} {{ config.title }}. Built with Zola.</div>
      <div class="social-links">
        {% if extra.twitter %}
          <a href="{{ extra.twitter }}" aria-label="Twitter"> {{ icons::twitter() }} </a>
        {% endif %}
        {% if extra.linkedin %}
          <a href="{{ extra.linkedin }}" aria-label="LinkedIn"> {{ icons::linkedin() }} </a>
        {% endif %}
        {% if extra.github %}
          <a href="{{ extra.github }}" aria-label="GitHub"> {{ icons::github() }} </a>
        {% endif %}
      </div>
    </div>
  </div>
{% endmacro %}

{#
##########################################################################
###  [ üõ†Ô∏è SECTION: WIDGETS (SEARCH, SHARE & SPEED DIAL) ]
##########################################################################
#}

{% macro search_modal() %}
  <div id="search_modal" popover>
    <div class="modal-backdrop" onclick="document.getElementById('search_modal').hidePopover()"></div>
    <div class="search-box">
      <div class="search-header">
        <span class="search-icon">{{ icons::search(size=6) }}</span>
        <input type="search" id="modal-search-input" placeholder="Type to search articles..." autocomplete="off" />
      </div>
      <div class="search-results" id="modal-search-results">
        <div class="empty-state">Start typing to find what you're looking for...</div>
      </div>
    </div>
  </div>
{% endmacro %}

{% macro share_modal() %}
  <div id="share_modal" popover>
    <div class="modal-box">
      <div class="icon-wrapper">{{ icons::check() }}</div>
      <h3>Link Copied!</h3>
      <p>The article link has been copied to your clipboard. Feel free to share it!</p>
      <button class="btn-confirm" onclick="document.getElementById('share_modal').hidePopover()">Got it</button>
    </div>
  </div>
{% endmacro %}

{% macro speed_dial() %}
  <div class="app-speed-dial">
    <div class="dial-items">
      <button id="speed-dial-top" class="dial-item" aria-label="Scroll to Top">{{ icons::top(size=5) }}</button>
      <button id="speed-dial-search" class="dial-item" aria-label="Search">{{ icons::search(size=5) }}</button>
      <label class="dial-item theme-toggle" aria-label="Toggle Theme">
        <input type="checkbox" class="theme-controller" value="dim" />
        <span class="sun-icon">{{ icons::sun(size=5) }}</span>
        <span class="moon-icon">{{ icons::moon(size=5) }}</span>
      </label>
      <button id="speed-dial-random" class="dial-item" aria-label="Random Post">{{ icons::shuffle(size=5) }}</button>
    </div>

    <button id="speed-dial-trigger" class="fab-trigger" aria-label="Toggle Menu">
      <span class="icon-main">{{ icons::lightning(size=6) }}</span>
      <span class="icon-close">{{ icons::minus(size=6) }}</span>
    </button>
  </div>
{% endmacro %}
