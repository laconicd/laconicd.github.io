{# --- [ ‚öôÔ∏è MACRO: UI COMPONENTS TOOLBOX ] ----------------------------------- #}
{% import "macros/icons.html" as icons %}

{#
########################################################################
###  [ üß© SECTION: NAVIGATION (NAVBAR & SIDEBAR) ]
########################################################################
#}

{% macro app_navbar(config) %}
  <nav class="l-bar c-navbar" aria-label="Main" style="inline-size: 100%;">
    <a href="/" class="c-btn is-ghost c-nav-brand u-fixed">{{ config.title }}</a>

    <button popovertarget="nav-center" class="c-btn is-ghost is-circle c-nav-menu-btn u-fixed">
      {{ icons::menu() }}
    </button>

    <div id="nav-center" popover class="nav-center">
      <div class="nav-nav-content l-cluster u-gap-8" style="align-items: center;">
        <div class="sidebar-header l-stack u-fixed u-gap-4">
          <div class="sidebar-title">Navigation</div>
          <a href="/" class="c-nav-brand c-btn is-ghost">{{ config.title }}</a>
        </div>
        
        <div class="sidebar-menu l-cluster u-fill u-gap-4">
          <a href="{{ get_url(path='@/posts/_index.md') }}" class="c-btn is-ghost l-bar u-fill">
            <span>Posts</span>
            <span class="sidebar-arrow u-fixed">‚Üí</span>
          </a>
          <a href="{{ get_url(path='categories') }}" class="c-btn is-ghost l-bar u-fill">
            <span>Categories</span>
            <span class="sidebar-arrow u-fixed">‚Üí</span>
          </a>
          <a href="{{ get_url(path='tags') }}" class="c-btn is-ghost l-bar u-fill">
            <span>Tags</span>
            <span class="sidebar-arrow u-fixed">‚Üí</span>
          </a>
        </div>

        <div class="divider-horizontal c-divider-v u-fixed"></div>

        <div class="sidebar-footer l-cluster u-fixed u-gap-2">
          <button popovertarget="search_modal" class="c-btn is-ghost is-circle js-search-trigger" aria-label="Open Search">
            {{ icons::search(size=5) }}
          </button>
          <a href="{{ get_url(path='atom.xml') }}" target="_blank" class="c-btn is-ghost is-circle">
            {{ icons::atom() }}
          </a>
          <a href="{{ get_url(path='rss.xml') }}" target="_blank" class="c-btn is-ghost is-circle">
            {{ icons::rss() }}
          </a>
          <label class="c-theme-toggle c-btn is-ghost is-circle js-theme-toggle">
            <input type="checkbox" class="theme-controller js-theme-input" value="dim" />
            <span class="sun-icon">{{ icons::sun(size=5) }}</span>
            <span class="moon-icon">{{ icons::moon(size=5) }}</span>
          </label>
        </div>
      </div>
    </div>
  </nav>
{% endmacro %}


{#
########################################################################
###  [ üèóÔ∏è SECTION: SITE FOOTER ]
########################################################################
#}

{% macro app_footer(config) %}
  <div class="footer-inner l-container l-stack" style="--space: var(--section-gap); padding-block: var(--space-20);">
      <div class="footer-main l-grid u-gap-16" style="--min-width: 15rem;">
        <div class="footer-brand l-stack u-gap-5">
          <div class="brand-name">{{ config.title }}</div>
          <p class="brand-desc">{{ config.description }}</p>
        </div>

        <nav class="footer-nav-group l-stack u-gap-5" aria-label="Explore">
          <h4>Explore</h4>
          <ul class="l-stack" style="--space: 0.6rem;">
            <li><a href="{{ get_url(path='@/posts/_index.md') }}">Articles</a></li>
            <li><a href="{{ get_url(path='categories') }}">Categories</a></li>
            <li><a href="{{ get_url(path='tags') }}">Tags</a></li>
          </ul>
        </nav>

        <nav class="footer-nav-group l-stack u-gap-5" aria-label="Information">
          <h4>Information</h4>
          <ul class="l-stack" style="--space: 0.6rem;">
            <li><a href="/about/">About me</a></li>
            <li><a href="/atom.xml">Atom Feed</a></li>
            <li><a href="/rss.xml">RSS Feed</a></li>
          </ul>
        </nav>
      </div>

      <div class="footer-bottom l-bar" style="padding-block-start: var(--space-12);">
        <div class="copyright">¬© {{ now() | date(format="%Y") }} {{ config.title }}. Built with Zola.</div>
        <div class="social-links l-cluster u-gap-6">
          {% if extra.twitter %}
            <a href="{{ extra.twitter }}" aria-label="Twitter"> {{ icons::twitter() }} </a>
          {% endif %}
          {% if extra.linkedin %}
            <a href="{{ extra.linkedin }}" aria-label="LinkedIn"> {{ icons::linkedin() }} </a>
          {% endif %}
          {% if extra.github %}
            <a href="{{ extra.github }}" aria-label="GitHub"> {{ icons::github() }} </a>
          {% endif %}
        </div>
      </div>
    </div>
{% endmacro %}

{#
##########################################################################
###  [ üõ†Ô∏è SECTION: WIDGETS (SEARCH, SHARE & SPEED DIAL) ]
##########################################################################
#}

{% macro search_modal() %}
  <div id="search_modal" class="c-search-modal l-stack js-search-modal" popover style="--space: 0;">
    <div class="search-header l-cluster u-gap-4" style="align-items: center;">
      <span class="search-icon u-fixed">{{ icons::search(size=6) }}</span>
      <input type="search" id="modal-search-input" class="u-fill js-search-input" placeholder="Type to search articles..." autocomplete="off" />
    </div>
    <div class="search-results l-stack u-fill js-search-results" id="modal-search-results" style="--space: var(--space-1);">
      <div class="empty-state l-center u-fill">Start typing to find what you're looking for...</div>
    </div>
  </div>
{% endmacro %}

{% macro share_modal() %}
  <div id="share_modal" class="c-share-modal js-share-modal" popover>
    <div class="modal-box l-stack l-center" style="--space: 1.75rem;">
      <div class="icon-wrapper l-center">{{ icons::check() }}</div>
      <h3>Link Copied!</h3>
      <p>The article link has been copied to your clipboard. Feel free to share it!</p>
      <button class="c-btn is-confirm js-modal-close" onclick="document.getElementById('share_modal').hidePopover()">Got it</button>
    </div>
  </div>
{% endmacro %}

{% macro speed_dial() %}
  <div class="c-speed-dial l-center js-speed-dial">
    <div class="dial-items">
      <button id="speed-dial-top" class="dial-item l-center js-speed-dial-top" aria-label="Scroll to Top">{{ icons::top(size=5) }}</button>
      <button id="speed-dial-search" class="dial-item l-center js-speed-dial-search" aria-label="Search">{{ icons::search(size=5) }}</button>
      <label class="dial-item c-theme-toggle l-center js-theme-toggle" aria-label="Toggle Theme">
        <input type="checkbox" class="theme-controller js-theme-input" value="dim" />
        <span class="sun-icon">{{ icons::sun(size=5) }}</span>
        <span class="moon-icon">{{ icons::moon(size=5) }}</span>
      </label>
      <button id="speed-dial-random" class="dial-item l-center js-speed-dial-random" aria-label="Random Post">{{ icons::shuffle(size=5) }}</button>
    </div>

    <button id="speed-dial-trigger" class="fab-trigger l-center js-speed-dial-trigger" aria-label="Toggle Menu">
      <span class="icon-main">{{ icons::lightning(size=6) }}</span>
      <span class="icon-close">{{ icons::minus(size=6) }}</span>
    </button>
  </div>
{% endmacro %}
