{% import "macros/icons.html" as icons %}
{% import "macros/image.html" as image_macros %}

{# 
  Unified Post Card Component
  Variables:
  - page: The page object
  - is_featured: Boolean (optional, for Hero style)
#}

<article class="c-post-card {% if is_featured | default(value=false) %}is-featured{% endif %}">
  <a href="{{ page.path }}" class="c-post-card-overlay-link" aria-label="Read: {{ page.title }}"></a>
  <div class="c-post-card-container">
    
    <div class="c-post-card-media">
      <img 
        src="{{ image_macros::get_url(page=page, width=1200, height=800) }}" 
        alt="{{ page.title }}" 
        loading="lazy" 
      />
      {% if is_featured %}
        <span class="c-post-card-badge">Featured</span>
      {% endif %}
    </div>

    <div class="c-post-card-body l-stack">
      <header class="c-post-card-header l-stack">
        <div class="c-post-card-meta l-cluster">
          <time datetime="{{ page.date }}">{{ page.date | date(format=config.extra.date_format) }}</time>
          <span class="c-post-card-meta-sep">â€¢</span>
          <span>{{ page.reading_time }} min read</span>
        </div>
        <h3 class="c-post-card-title">{{ page.title }}</h3>
      </header>
      
      <p class="c-post-card-summary u-fill">
        {{ page.summary | default(value=page.description) | default(value="") | striptags | safe }}
      </p>
      
      <footer class="c-post-card-footer l-bar">
        <span class="c-post-card-cta">{% if is_featured %}Keep Reading{% else %}Read Story{% endif %}</span>
        <span class="c-post-card-arrow c-icon-circle">{{ icons::arrow_right(size=3) }}</span>
      </footer>
    </div>
  </div>
</article>
