{% import "macros/icons.html" as icons %}

<div class="app-navbar">
  <a href="/" class="nav-brand">{{ config.title }}</a>

  <button popovertarget="nav-center" class="menu-toggle-btn">
    {{ icons::menu() }}
  </button>

  <nav id="nav-center" popover class="nav-center">
    <div class="sidebar-backdrop" onclick="document.getElementById('nav-center').hidePopover()"></div>
    
    <div class="sidebar-content">
      <div class="sidebar-header">
        <div class="sidebar-title">Navigation</div>
        <div class="sidebar-brand">{{ config.title }}</div>
      </div>

      <div class="sidebar-menu">
        <a href="{{ get_url(path='@/posts/_index.md') }}">Posts</a>
        <a href="{{ get_url(path='categories') }}">Categories</a>
        <a href="{{ get_url(path='tags') }}">Tags</a>
      </div>

      <div class="nav-divider"></div>

      <div class="sidebar-footer">
        <button popovertarget="search_modal" class="search-trigger" aria-label="Open Search">
          {{ icons::search(size=5) }}
          <span>Search Articles...</span>
        </button>

        <div class="utils-group">
          <a href="{{ get_url(path='atom.xml') }}" target="_blank" aria-label="Atom Feed">
            {{ icons::atom() }}
          </a>
          <a href="{{ get_url(path='rss.xml') }}" target="_blank" aria-label="RSS Feed">
            {{ icons::rss() }}
          </a>
          <label class="theme-toggle">
            <input type="checkbox" class="theme-controller" value="dim" />
            <span class="sun-icon">{{ icons::sun(size=5) }}</span>
            <span class="moon-icon">{{ icons::moon(size=5) }}</span>
          </label>
        </div>
      </div>
    </div>
  </nav>
</div>
