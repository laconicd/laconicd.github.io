{% extends "base.html" %}
{% import "macros/icons.html" as icons %}
{% import "macros/image.html" as image_macros %}

{% block content %}
  <div class="app-index">
    <header class="hero-title">
      <h1>{{ config.extra.hero_title }}</h1>
      <p>{{ config.extra.hero_subtitle }}</p>
    </header>

    <div class="section-divider">
      <hr />
      <span>Latest Records</span>
      <hr />
    </div>

    <section class="list" aria-label="Latest Posts">
      {% set blog_section = get_section(path="posts/_index.md") %}
      {% for page in blog_section.pages | slice(end=10) %}
        <article class="app-post-card">
          <a href="{{ page.path }}" class="card-link">
            <div class="thumb">
              <img
                src="{{ image_macros::get_url(page=page, width=200, height=200) }}"
                alt="{{ page.title }}"
                loading="lazy"
              />
            </div>
            <div class="body">
              <div class="meta">{{ page.date | date(format=config.extra.date_format) }}</div>
              <h3 class="title">{{ page.title }}</h3>
              <p class="summary">
                {{ page.summary | default(value=page.description) | default(value="") | striptags | safe }}
              </p>
            </div>
            <div class="action-arrow btn-icon-circle">{{ icons::arrow_right(size=3) }}</div>
          </a>
        </article>
      {% endfor %}
    </section>
  </div>
{% endblock content %}
