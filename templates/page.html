{% extends "base.html" %}
{% import "macros/components/hero.html" as hero %}

{% block content %}
<article class="wrapper stack" style="--gap: var(--space-xl)">
  <header class="stack" style="--gap: var(--space-md)">
    <div class="cluster" style="--gap: var(--space-md); justify-content: space-between; align-items: baseline;">
      <div class="badge" style="opacity: var(--opacity-60)">{{ page.date | date(format="%B %d, %Y") | upper }}</div>
      <div class="badge" style="opacity: 0.4; font-size: var(--font-size-xs); font-family: var(--font-family-mono);">{{ page.reading_time }} MIN READ</div>
    </div>
    
    <h1 class="title" style="font-size: var(--font-size-xxl); font-weight: var(--font-weight-extrabold); view-transition-name: title-{{ page.slug }}">{{ page.title }}</h1>
    
    {% if page.description %}
      <p class="subtitle" style="font-size: var(--font-size-lg); opacity: var(--opacity-80)">{{ page.description }}</p>
    {% endif %}

    {% if page.extra.image %}
      <div class="featured-image-container" style="margin-block: var(--space-lg); border-radius: var(--border-radius-lg); overflow: hidden; aspect-ratio: 21 / 9;">
        <img src="{{ page.extra.image }}" style="width: 100%; height: 100%; object-fit: cover; view-transition-name: img-{{ page.slug }}" />
      </div>
    {% endif %}

    <div class="cluster" style="--gap: var(--space-xs); margin-block-start: var(--space-sm);">
      {% if page.taxonomies.themes %}
        {% for theme in page.taxonomies.themes %}
          <a href="{{ get_taxonomy_url(kind="themes", name=theme) }}" class="badge" style="text-decoration: none; font-size: var(--font-size-xs);">{{ theme }}</a>
        {% endfor %}
      {% endif %}
      {% if page.taxonomies.lexicon %}
        {% for term in page.taxonomies.lexicon %}
          <a href="{{ get_taxonomy_url(kind="lexicon", name=term) }}" class="badge btn-ghost" style="text-decoration: none; font-size: var(--font-size-xs); border: 1px solid var(--color-base-300);">#{{ term }}</a>
        {% endfor %}
      {% endif %}
    </div>
  </header>

  <div class="separator"></div>

  <div class="content post-content" style="max-inline-size: 75ch; margin-inline: auto;">
    {{ page.content | safe }}
  </div>

  <footer class="separator">
    <a href="/insights" class="btn btn-ghost">‚Üê Back to Archive</a>
  </footer>
</article>
{% endblock content %}
